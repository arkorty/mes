<div class="">
    <h1>Categories</h1>
    <!-- searchbar -->
    <div class="row">
       <div class="col-6">
        <div class="search-container">
            <input type="text" placeholder="Search..." name="search" [(ngModel)]="searchValue" class="search-input">
            <button class="search-button">
                <i class="fas fa-search"></i> <!-- Font Awesome Search Icon -->
            </button>
        </div>
       </div>
       <div class="col-12 mt-3">
        <button class="btn btn-success mx-1" (click)="AddCategory()">Add Category </button>
        <button class="btn btn-primary">Download CSV</button>
       </div>
    </div>
    <div class="row mt-5">
        <div class="col-12">
          <ng-container *ngFor="let item of categoryList; ">
            <mat-expansion-panel class="category-panel mt-3">
              <mat-expansion-panel-header class="mb-3">
                <mat-panel-title>                  
                  {{item.name}} 
                </mat-panel-title>    
                <mat-panel-description>
                   <button mat-icon-button color="primary" class="edit" (click)="EditItem(item._id)" aria-label="Edit">
                    <i class="las la-edit"></i>
                </button>
                
                <button mat-icon-button color="warn" class="delete" (click)="DeleteItem(item._id)" aria-label="Delete">
                  <i class="las la-trash-alt"></i>
                </button> </mat-panel-description>
              </mat-expansion-panel-header>
              <ng-container *ngFor="let subCategory of item.subCategories; ">
                <mat-expansion-panel class="subcategory-panel">
                  <mat-expansion-panel-header>
                    <mat-panel-title>                  
                      {{subCategory.name}} 
                    </mat-panel-title>    
                    <mat-panel-description>
                      <button mat-icon-button color="primary" class="edit" (click)="EditItem(subCategory._id)" aria-label="Edit">
                        <i class="las la-edit"></i>
                    </button>
                    
                    <button mat-icon-button color="warn" class="delete" (click)="DeleteItem(subCategory._id)" aria-label="Delete">
                      <i class="las la-trash-alt"></i>
                    </button>
                    </mat-panel-description>
                  </mat-expansion-panel-header>
                  <ng-container *ngFor="let subSubCategory of subCategory.subSubCategories;">
                    <div class="subsubcategory-content d-flex gap-2 my-auto">
                      <p class="mt-3">{{subSubCategory.name}}</p>
                        <button mat-icon-button color="primary" class="edit" (click)="EditItem(subSubCategory._id)" aria-label="Edit">
                        <i class="las la-edit"></i>
                    </button>
                    
                    <button mat-icon-button color="warn" class="delete" (click)="DeleteItem(subSubCategory._id)" aria-label="Delete">
                      <i class="las la-trash-alt"></i>
                    </button>
                    </div>
                  </ng-container>
                </mat-expansion-panel>
              </ng-container>
            </mat-expansion-panel>
          </ng-container>
        </div>
    </div>
</div>